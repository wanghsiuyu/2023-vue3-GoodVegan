import{_ as k,R as L,r as g,o as t,c as o,d as l,b as s,w as u,F as r,t as p,f as y,u as n,z as V,v as T}from"./index-06f5e566.js";const{VITE_URL:v,VITE_PATH:f}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"gracewang",BASE_URL:"/vue3-QA/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},w={data(){return{isLoading:!1,loadingStatus:"",products:[]}},components:{RouterLink:L},methods:{loading(){this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},500)},getProducts(){this.$http.get(`${v}/api/${f}/products/all`).then(a=>{this.products=a.data.products}).catch(a=>{alert(a.response.data.message)})},addToCart(a,c=1){const m={product_id:a,qty:c};this.loadingStatus=a,this.$http.post(`${v}/api/${f}/cart`,{data:m}).then(d=>{this.loadingStatus="",alert(d.data.message)}).catch(d=>{alert(d.response.data.message)})}},mounted(){this.getProducts(),this.loading()}},$=s("div",{class:"mb-5 order-banner",style:{height:"378px"}},[s("div",{class:"order-banner-plan"},"線上訂餐")],-1),R={class:"container"},E={"aria-label":"breadcrumb"},S={class:"breadcrumb mb-5"},C={class:"breadcrumb-item"},P=s("li",{class:"breadcrumb-item active","aria-current":"page"},"線上訂餐",-1),N={class:"row row-cols-1 row-cols-md-2 gy-2 mt-3"},U={key:0,class:"col"},A={class:"card mb-3"},B={class:"row g-0"},D={class:"col-md-8"},I={class:"card-body d-flex align-items-start flex-column h-100"},F={class:"card-title"},H={class:"d-flex mb-2"},M={class:"card-text line-clamp"},O={class:"d-flex align-items-center mt-auto"},z=["onClick"],Q={key:0,class:"fas fa-spinner fa-pulse"},j={key:1,class:"material-icons fs-2 green"},q={class:"me-2 text-secondary"},G={class:"fs-5 text-bold mb-0 green"},J={class:"col-md-4"},K={class:"mask rounded-end"},W=["src","alt"];function X(a,c,m,d,i,b){const x=g("VueLoading"),_=g("RouterLink");return t(),o(r,null,[l(x,{active:i.isLoading,"onUpdate:active":c[0]||(c[0]=e=>i.isLoading=e)},null,8,["active"]),$,s("div",R,[s("nav",E,[s("ol",S,[s("li",C,[l(_,{to:"/",class:"green"},{default:u(()=>[y("首頁")]),_:1})]),P])]),s("div",N,[(t(!0),o(r,null,p(i.products,e=>(t(),o(r,{key:e.id},[i.products?(t(),o("div",U,[s("div",A,[s("div",B,[s("div",D,[s("div",I,[l(_,{to:`/product/${e.id}`},{default:u(()=>[s("h5",F,n(e.title),1),s("div",H,[(t(!0),o(r,null,p(e.checkboxFeatures,h=>(t(),o("span",{key:h,class:"badge me-1 green bg-light-green"},n(`${h} `),1))),128))]),s("small",M,n(e.description),1)]),_:2},1032,["to"]),s("div",O,[s("a",{href:"#",class:"link-secondary me-2",title:"加入購物車",onClick:V(h=>b.addToCart(e.id),["prevent"])},[i.loadingStatus===e.id?(t(),o("i",Q)):(t(),o("span",j," add_box "))],8,z),s("small",q,[s("del",null,"NT$"+n(e.origin_price),1)]),s("p",G,"NT$"+n(e.price),1)])])]),s("div",J,[s("div",K,[l(_,{to:`/product/${e.id}`},{default:u(()=>[s("img",{src:e.imageUrl,width:"200",height:"200",class:"rounded-end img-cover",alt:e.title},null,8,W)]),_:2},1032,["to"])])])])])])):T("",!0)],64))),128))])])],64)}const Z=k(w,[["render",X]]);export{Z as default};
