import{c as ft,m as H,a as N,_ as M,o as m,b as h,d as t,t as _,F as S,r as Q,n as _t,w as k,e as mt,v as ht,f as v,R as ut,g as gt,h as T,i,j as f,k as F,l as K,p as vt,q as pt}from"./index-2634201d.js";import{c as E}from"./cartsStore-6bdb74fe.js";import{l as bt}from"./loadingStore-3949ef09.js";import{r as wt,a as yt,b as $t,c as kt,d as Et,e as xt,f as Ct,g as At}from"./component-functions-ab8dbfb9.js";import{_ as Tt,a as Nt}from"./empty-cart-34a81ab2.js";import{_ as z}from"./logo2-235e6bbc.js";import"./toast-e0ba1b73.js";var O={},St={get exports(){return O},set exports(e){O=e}};/*!
  * Bootstrap offcanvas.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,l){(function(b,$){e.exports=$(wt(),yt(),$t(),kt(),Et(),xt(),Ct(),At())})(ft,function(b,$,x,w,o,a,r,C){const y=c=>c&&typeof c=="object"&&"default"in c?c:{default:c},D=y($),d=y(x),G=y(w),A=y(o),U=y(a),J=y(r),Z="offcanvas",u=".bs.offcanvas",V=".data-api",X=`load${u}${V}`,tt="Escape",L="show",I="showing",R="hiding",et="offcanvas-backdrop",q=".offcanvas.show",st=`show${u}`,at=`shown${u}`,ot=`hide${u}`,B=`hidePrevented${u}`,j=`hidden${u}`,nt=`resize${u}`,it=`click${u}${V}`,lt=`keydown.dismiss${u}`,ct='[data-bs-toggle="offcanvas"]',rt={backdrop:!0,keyboard:!0,scroll:!1},dt={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class g extends G.default{constructor(s,n){super(s,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return rt}static get DefaultType(){return dt}static get NAME(){return Z}toggle(s){return this._isShown?this.hide():this.show(s)}show(s){if(this._isShown||d.default.trigger(this._element,st,{relatedTarget:s}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new D.default().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(I);const P=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(L),this._element.classList.remove(I),d.default.trigger(this._element,at,{relatedTarget:s})};this._queueCallback(P,this._element,!0)}hide(){if(!this._isShown||d.default.trigger(this._element,ot).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(R),this._backdrop.hide();const n=()=>{this._element.classList.remove(L,R),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new D.default().reset(),d.default.trigger(this._element,j)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const s=()=>{if(this._config.backdrop==="static"){d.default.trigger(this._element,B);return}this.hide()},n=Boolean(this._config.backdrop);return new U.default({className:et,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?s:null})}_initializeFocusTrap(){return new J.default({trapElement:this._element})}_addEventListeners(){d.default.on(this._element,lt,s=>{if(s.key===tt){if(!this._config.keyboard){d.default.trigger(this._element,B);return}this.hide()}})}static jQueryInterface(s){return this.each(function(){const n=g.getOrCreateInstance(this,s);if(typeof s=="string"){if(n[s]===void 0||s.startsWith("_")||s==="constructor")throw new TypeError(`No method named "${s}"`);n[s](this)}})}}return d.default.on(document,it,ct,function(c){const s=b.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&c.preventDefault(),b.isDisabled(this))return;d.default.one(s,j,()=>{b.isVisible(this)&&this.focus()});const n=A.default.findOne(q);n&&n!==s&&g.getInstance(n).hide(),g.getOrCreateInstance(s).toggle(this)}),d.default.on(window,X,()=>{for(const c of A.default.find(q))g.getOrCreateInstance(c).show()}),d.default.on(window,nt,()=>{for(const c of A.default.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(c).position!=="fixed"&&g.getOrCreateInstance(c).hide()}),C.enableDismissTrigger(g),b.defineJQueryPlugin(g),g})})(St);const Ot=O,Dt={data(){return{bsOffcanvas:""}},components:{},methods:{...H(E,["getCart","removeCart","removeCartsAll","setCartQty"]),goProductsView(){this.bsOffcanvas.hide(),this.$router.push("/products")},goOrderView(){this.bsOffcanvas.hide(),this.$router.push("/order/info")}},computed:{...N(E,["cartsTotal","shipping","cartsTotalNum"]),...N(bt,["loadingStatus"])},mounted(){this.bsOffcanvas=new Ot(this.$refs.offcanvasRight)}},Vt={class:"offcanvas offcanvas-end","data-bs-scroll":"true",tabindex:"-1",id:"offcanvasRight",ref:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},Lt={class:"offcanvas-header"},It={id:"offcanvasRightLabel"},Rt=t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),qt={class:"offcanvas-body pt-0"},Bt={key:0},jt={class:"table align-middle",style:{"font-size":"14px"}},Pt=t("tr",{class:"border-bottom"},null,-1),Qt={class:"d-flex align-items-center justify-content-between gap-5 py-4 px-0"},Ft={class:"d-flex align-items-center"},Ht=["onClick"],Mt=t("img",{src:Nt,alt:"delete"},null,-1),Kt=[Mt],zt=["src"],Wt={class:"d-flex align-items-center justify-content-between w-75"},Yt={class:"mb-1"},Gt={class:"mb-1"},Ut={style:{width:"80px"}},Jt=["onUpdate:modelValue","onChange","disabled"],Zt=["value"],Xt={class:"mb-0 text-end"},te={class:"d-flex justify-content-between"},ee=t("p",{class:"fs-6 mb-2"},"小計",-1),se={class:"fs-6 mb-2 fw-bold"},ae={class:"d-flex justify-content-between"},oe={class:"fs-6 mb-2"},ne={key:0,class:"text-danger"},ie={key:1,class:"text-danger"},le={class:"fs-6 mb-2 fw-bold"},ce={class:"d-flex justify-content-between mb-2"},re=t("p",{class:"fs-6 mb-2"},"總計",-1),de={class:"fs-6 mb-2 fw-bold"},fe={key:1,class:"text-center"},_e=t("img",{src:Tt,alt:"empty-cart",class:"mb-6",width:"80",height:"80"},null,-1),me=t("h3",{class:"fs-5 mb-6"},"您的購物車目前是空的喔",-1);function he(e,l,b,$,x,w){var o;return m(),h("div",Vt,[t("div",Lt,[t("h5",It,"購物車 ("+_(e.cartsTotalNum)+")",1),Rt]),t("div",qt,[(o=e.cartsTotal.carts)!=null&&o.length?(m(),h("div",Bt,[t("table",jt,[t("tbody",null,[Pt,(m(!0),h(S,null,Q(e.cartsTotal.carts,a=>(m(),h("tr",{key:a.id},[t("td",Qt,[t("div",Ft,[t("a",{role:"button",class:_t(["btn p-0 me-3",{disabled:e.loadingStatus===a.id}]),onClick:k(r=>e.removeCart(a.id),["prevent"]),style:{"border-color":"transparent"}},Kt,10,Ht),t("img",{src:a.product.imageUrl,class:"object-fit-cover flex-shrink-0",width:"80",height:"80",alt:"cart.product.title"},null,8,zt)]),t("div",Wt,[t("div",null,[t("p",Yt,_(a.product.title),1),t("p",Gt,"NT$"+_(a.product.price)+" / "+_(a.product.unit),1),t("div",Ut,[mt(t("select",{"onUpdate:modelValue":r=>a.qty=r,class:"form-select form-select-sm",onChange:r=>e.setCartQty(a),disabled:e.loadingStatus===a.id},[(m(),h(S,null,Q(20,r=>t("option",{key:r+1234,value:r},_(r),9,Zt)),64))],40,Jt),[[ht,a.qty]])])]),t("p",Xt,"NT$"+_(a.total),1)])])]))),128))])]),t("button",{type:"button",class:"btn btn-sm btn-outline-gray mb-3",onClick:l[0]||(l[0]=(...a)=>e.removeCartsAll&&e.removeCartsAll(...a))},"清空購物車"),t("div",te,[ee,t("p",se,"NT$"+_(e.cartsTotal.total),1)]),t("div",ae,[t("p",oe,[v(" 運費 "),e.cartsTotal.total<500?(m(),h("small",ne,"(消費滿 $500 可享免運優惠)")):(m(),h("small",ie,"(恭禧您已達免運門檻！)"))]),t("p",le,"NT$"+_(e.shipping),1)]),t("div",ce,[re,t("p",de,"NT$"+_(e.cartsTotal.final_total+e.shipping),1)]),t("a",{href:"#",class:"btn btn-primary w-100 mb-2",onClick:l[1]||(l[1]=k(a=>w.goOrderView(),["prevent"]))},"訂單結帳")])):(m(),h("div",fe,[_e,me,t("a",{href:"#",class:"btn btn-primary fs-lg-5 px-5 py-3 px-lg-6",onClick:l[2]||(l[2]=k(a=>w.goProductsView(),["prevent"]))},"現在就去逛逛")]))])],512)}const ue=M(Dt,[["render",he]]),W="/vue3-QA/assets/cart-56294020.svg",Y="/vue3-QA/assets/member-08588000.svg",ge="/vue3-QA/assets/menu-b4cacd3d.svg",ve="/vue3-QA/assets/instagram-cd707bc1.svg",pe="/vue3-QA/assets/FB-8296d5b2.svg",be="/vue3-QA/assets/youtube-9bfa7f5e.svg",we="/vue3-QA/assets/phone-c23e1626.svg",ye="/vue3-QA/assets/mail-52bf0702.svg",$e="/vue3-QA/assets/address-0e44b59d.svg";const ke={data(){return{}},components:{RouterLink:ut,RouterView:gt,CartOffcanvas:ue},methods:{...H(E,["getCart"]),toggleOffcanvas(){this.$refs.offcanvas.bsOffcanvas.toggle()}},computed:{...N(E,["cartsTotalNum"])},mounted(){this.getCart()}},p=e=>(vt("data-v-f5010604"),e=e(),pt(),e),Ee={class:"navbar fixed-top navbar-expand-lg navbar-light bg-primary-light py-2 py-lg-3"},xe={class:"container"},Ce=p(()=>t("img",{src:z,width:"113",height:"32",alt:"logo",class:"d-inline-block navbar-logo"},null,-1)),Ae={class:"d-flex align-items-center"},Te={class:"d-lg-none"},Ne=p(()=>t("img",{src:W,alt:"cart",width:"40",height:"40"},null,-1)),Se={key:0,class:"position-absolute start-100 translate-middle badge rounded-pill bg-primary text-white",style:{top:"6px"}},Oe=p(()=>t("img",{src:Y,alt:"member",width:"40",height:"40"},null,-1)),De=p(()=>t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[t("img",{src:ge,alt:"menu",width:"40",height:"40"})],-1)),Ve={class:"collapse navbar-collapse d-lg-flex justify-content-lg-center",id:"navbarText"},Le={class:"navbar-nav mt-2 mt-lg-0"},Ie={class:"nav-item mb-4 mb-lg-0"},Re={class:"nav-item mb-4 mb-lg-0"},qe=p(()=>t("li",{class:"nav-item mb-4 mb-lg-0"},[t("a",{href:"#/#qa",class:"nav-link fs-lg-5 pt-3 mx-5 d-inline-block"},"常見問題")],-1)),Be={class:"nav-item mb-4 mb-lg-0"},je={class:"d-none d-lg-block"},Pe=p(()=>t("img",{src:W,alt:"cart",width:"40",height:"40"},null,-1)),Qe={key:0,class:"position-absolute start-100 translate-middle badge rounded-pill bg-primary text-white",style:{top:"6px"}},Fe=p(()=>t("img",{src:Y,alt:"member",width:"40",height:"40"},null,-1)),He={class:"bg-white"},Me={class:"container py-8"},Ke={class:"d-lg-flex justify-content-between align-items-center pb-6 pb-lg-4 border-bottom"},ze=K('<div class="d-flex flex-lg-column justify-content-between align-items-center align-items-lg-start mb-8 mb-lg-0" data-v-f5010604><a href="#" data-v-f5010604><img src="'+z+'" width="183" height="52" alt="logo" class="mb-lg-6" data-v-f5010604></a><ul class="nav" data-v-f5010604><li class="nav-item" data-v-f5010604><a href="#" class="me-4" data-v-f5010604><img src="'+ve+'" alt="instagram" width="32" class="text-dark" data-v-f5010604></a></li><li class="nav-item" data-v-f5010604><a href="#" class="me-4" data-v-f5010604><img src="'+pe+'" alt="FB" width="32" data-v-f5010604></a></li><li class="nav-item" data-v-f5010604><a href="#" data-v-f5010604><img src="'+be+'" alt="youtube" width="32" data-v-f5010604></a></li></ul></div>',1),We={class:"nav mb-2"},Ye={class:"nav-item mb-6 mb-lg-0"},Ge={class:"nav-item mb-6 mb-lg-0"},Ue={class:"nav-item mb-6 mb-lg-0"},Je={class:"nav-item mb-6 mb-lg-0"},Ze={class:"nav-item mb-6 mb-lg-0"},Xe=K('<ul class="nav flex-column gap-3 gap-lg-4" data-v-f5010604><li class="nav-item" data-v-f5010604><a href="tel:+88662345678" data-v-f5010604><img src="'+we+'" alt="phone" width="24" class="me-3" data-v-f5010604>06-2345678 </a></li><li class="nav-item" data-v-f5010604><a href="mailto:goodvegan@email.com" data-v-f5010604><img src="'+ye+'" alt="mail" width="24" class="me-3" data-v-f5010604>goodvegan@email.com </a></li><li class="nav-item" data-v-f5010604><a href="#" data-v-f5010604><img src="'+$e+'" alt="address" width="24" class="me-3" data-v-f5010604>台南市東區樂活路 59 號 </a></li></ul>',1),ts=p(()=>t("div",{class:"d-lg-flex justify-content-between pt-6 pt-lg-4 text-gray"},[t("p",{class:"mb-2 mb-lg-0"},"Copyright © 2023 goodvegan.com | All Rights Reserved."),t("p",{class:"mb-0"},"本網站僅作為個人練習作品，無任何商業用途")],-1));function es(e,l,b,$,x,w){const o=T("RouterLink"),a=T("CartOffcanvas"),r=T("RouterView");return m(),h(S,null,[t("nav",Ee,[t("div",xe,[i(o,{to:"/"},{default:f(()=>[Ce]),_:1}),t("div",Ae,[t("div",Te,[t("a",{role:"button",class:"navbar-brand position-relative",onClick:l[0]||(l[0]=k(C=>w.toggleOffcanvas(),["prevent"])),"aria-controls":"offcanvasRight"},[Ne,e.cartsTotalNum?(m(),h("span",Se,_(e.cartsTotalNum),1)):F("",!0)]),i(o,{to:"/login",class:"navbar-brand"},{default:f(()=>[Oe]),_:1})]),De]),t("div",Ve,[t("ul",Le,[t("li",Ie,[i(o,{to:"/about",class:"nav-link pt-3 mx-5 fs-lg-5 d-inline-block"},{default:f(()=>[v("關於我們")]),_:1})]),t("li",Re,[i(o,{to:"/products",class:"nav-link fs-lg-5 pt-3 mx-5 d-inline-block"},{default:f(()=>[v("線上訂餐")]),_:1})]),qe,t("li",Be,[i(o,{to:"/location",class:"nav-link fs-lg-5 pt-3 mx-5 d-inline-block"},{default:f(()=>[v("門市資訊")]),_:1})])])]),t("div",je,[t("a",{role:"button",class:"navbar-brand position-relative",onClick:l[1]||(l[1]=k(C=>w.toggleOffcanvas(),["prevent"])),"aria-controls":"offcanvasRight"},[Pe,e.cartsTotalNum?(m(),h("span",Qe,_(e.cartsTotalNum),1)):F("",!0)]),i(o,{to:"/login",class:"navbar-brand"},{default:f(()=>[Fe]),_:1})])])]),i(a,{ref:"offcanvas"},null,512),t("main",null,[i(r)]),t("footer",He,[t("div",Me,[t("div",Ke,[ze,t("ul",We,[t("li",Ye,[i(o,{to:"/",class:"me-21 mx-lg-5 fs-lg-5 text-gray-dark","exact-active-class":"exact-active"},{default:f(()=>[v("首頁")]),_:1})]),t("li",Ge,[i(o,{to:"/about",class:"me-13 mx-lg-5 fs-lg-5 text-gray-dark","exact-active-class":"exact-active"},{default:f(()=>[v("關於我們")]),_:1})]),t("li",Ue,[i(o,{to:"/products",class:"fs-lg-5 text-gray-dark me-13 mx-lg-5","exact-active-class":"exact-active"},{default:f(()=>[v("線上訂餐")]),_:1})]),t("li",Je,[i(o,{to:"/#qa",class:"fs-lg-5 text-gray-dark me-13 mx-lg-5","exact-active-class":"exact-active"},{default:f(()=>[v("常見問題")]),_:1})]),t("li",Ze,[i(o,{to:"/location",class:"fs-lg-5 text-gray-dark me-13 mx-lg-5","exact-active-class":"exact-active"},{default:f(()=>[v("門市資訊")]),_:1})])]),Xe]),ts])])],64)}const ds=M(ke,[["render",es],["__scopeId","data-v-f5010604"]]);export{ds as default};
