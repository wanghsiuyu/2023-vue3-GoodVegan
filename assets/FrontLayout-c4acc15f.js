import{c as ft,m as H,a as A,_ as M,o as f,b as m,d as t,e as _,t as h,f as V,F as O,r as P,n as z,w as E,g as mt,v as ut,R as ht,h as gt,i as w,j as n,k as r,l as K,p as vt,q as bt}from"./index-ef04eae2.js";import{c as T}from"./cartsStore-9c4bd35c.js";import{l as pt}from"./loadingStore-991ac614.js";import{r as yt,a as $t,b as wt,c as kt,d as Et,e as xt,f as Tt,g as Ct}from"./component-functions-53916ee9.js";import{_ as St,a as Nt}from"./empty-cart-deb55b64.js";import{T as At}from"./toast-1bc0252f.js";import{_ as W}from"./logo2-885518f6.js";var D={},Vt={get exports(){return D},set exports(s){D=s}};/*!
  * Bootstrap offcanvas.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(s,l){(function(g,k){s.exports=k(yt(),$t(),wt(),kt(),Et(),xt(),Tt(),Ct())})(ft,function(g,k,C,y,o,a,u,S){const $=d=>d&&typeof d=="object"&&"default"in d?d:{default:d},x=$(k),i=$(C),U=$(y),N=$(o),J=$(a),Z=$(u),X="offcanvas",v=".bs.offcanvas",L=".data-api",tt=`load${v}${L}`,st="Escape",R="show",I="showing",q="hiding",et="offcanvas-backdrop",B=".offcanvas.show",at=`show${v}`,ot=`shown${v}`,nt=`hide${v}`,j=`hidePrevented${v}`,G=`hidden${v}`,it=`resize${v}`,lt=`click${v}${L}`,ct=`keydown.dismiss${v}`,rt='[data-bs-toggle="offcanvas"]',dt={backdrop:!0,keyboard:!0,scroll:!1},_t={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class b extends U.default{constructor(e,c){super(e,c),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return dt}static get DefaultType(){return _t}static get NAME(){return X}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||i.default.trigger(this._element,at,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new x.default().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(I);const F=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(R),this._element.classList.remove(I),i.default.trigger(this._element,ot,{relatedTarget:e})};this._queueCallback(F,this._element,!0)}hide(){if(!this._isShown||i.default.trigger(this._element,nt).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(q),this._backdrop.hide();const c=()=>{this._element.classList.remove(R,q),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new x.default().reset(),i.default.trigger(this._element,G)};this._queueCallback(c,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){i.default.trigger(this._element,j);return}this.hide()},c=Boolean(this._config.backdrop);return new J.default({className:et,isVisible:c,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:c?e:null})}_initializeFocusTrap(){return new Z.default({trapElement:this._element})}_addEventListeners(){i.default.on(this._element,ct,e=>{if(e.key===st){if(!this._config.keyboard){i.default.trigger(this._element,j);return}this.hide()}})}static jQueryInterface(e){return this.each(function(){const c=b.getOrCreateInstance(this,e);if(typeof e=="string"){if(c[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);c[e](this)}})}}return i.default.on(document,lt,rt,function(d){const e=g.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&d.preventDefault(),g.isDisabled(this))return;i.default.one(e,G,()=>{g.isVisible(this)&&this.focus()});const c=N.default.findOne(B);c&&c!==e&&b.getInstance(c).hide(),b.getOrCreateInstance(e).toggle(this)}),i.default.on(window,tt,()=>{for(const d of N.default.find(B))b.getOrCreateInstance(d).show()}),i.default.on(window,it,()=>{for(const d of N.default.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(d).position!=="fixed"&&b.getOrCreateInstance(d).hide()}),S.enableDismissTrigger(b),g.defineJQueryPlugin(b),b})})(Vt);const Ot=D,Dt={data(){return{bsOffcanvas:""}},methods:{...H(T,["getCart","removeCart","confirmRemove","removeCartsAll","setCartQty"]),goProductsView(){this.bsOffcanvas.hide(),this.$router.push("/products")},goOrderView(){this.bsOffcanvas.hide(),this.$router.push("/order/info")}},computed:{...A(T,["cartsTotal","shipping","cartsTotalNum"]),...A(pt,["loadingStatus"])},mounted(){this.bsOffcanvas=new Ot(this.$refs.offcanvasRight)}},Lt={class:"offcanvas offcanvas-end","data-bs-scroll":"true",tabindex:"-1",id:"offcanvasRight",ref:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},Rt={class:"offcanvas-header"},It={id:"offcanvasRightLabel"},qt={key:0},Bt=t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),jt={class:"offcanvas-body pt-0"},Gt={key:0},Ft={class:"text-end"},Pt={class:"table align-middle",style:{"font-size":"14px"}},Ht=t("tr",{class:"border-bottom"},null,-1),Mt={class:"d-flex align-items-center justify-content-between gap-5 py-4 px-0"},zt={class:"d-flex align-items-center"},Kt=["onClick"],Wt=t("img",{src:Nt,alt:"delete"},null,-1),Yt=[Wt],Qt=["src"],Ut={class:"d-flex align-items-center justify-content-between w-75"},Jt={class:"mb-1"},Zt={class:"mb-1"},Xt={style:{width:"80px"}},ts=["onUpdate:modelValue","onChange","disabled"],ss=["value"],es={class:"mb-0 text-end"},as={class:"d-flex justify-content-between"},os=t("p",{class:"fs-6 mb-2"},"小計",-1),ns={class:"fs-6 mb-2 fw-bold"},is={class:"d-flex justify-content-between"},ls={class:"fs-6 mb-2"},cs={key:0,class:"text-danger"},rs={key:1,class:"text-danger"},ds={class:"fs-6 mb-2 fw-bold"},_s={class:"d-flex justify-content-between mb-2"},fs=t("p",{class:"fs-6 mb-2"},"總計",-1),ms={class:"fs-6 mb-2 fw-bold"},us={key:1,class:"text-center"},hs=t("img",{src:St,alt:"empty-cart",class:"mb-6",width:"80",height:"80"},null,-1),gs=t("h3",{class:"fs-5 mb-6"},"您的購物車目前是空的喔",-1);function vs(s,l,g,k,C,y){var o;return f(),m("div",Lt,[t("div",Rt,[t("h5",It,[_(" 購物車 "),s.cartsTotalNum?(f(),m("span",qt,"("+h(s.cartsTotalNum)+")",1)):V("",!0)]),Bt]),t("div",jt,[(o=s.cartsTotal.carts)!=null&&o.length?(f(),m("div",Gt,[t("div",Ft,[t("button",{type:"button",class:"btn btn-sm btn-outline-gray mb-2",onClick:l[0]||(l[0]=(...a)=>s.confirmRemove&&s.confirmRemove(...a)),style:{"font-size":"12px"}},"清空購物車")]),t("table",Pt,[t("tbody",null,[Ht,(f(!0),m(O,null,P(s.cartsTotal.carts,a=>(f(),m("tr",{key:a.id},[t("td",Mt,[t("div",zt,[t("a",{role:"button",class:z(["btn p-0 me-3",{disabled:s.loadingStatus===a.id}]),onClick:E(u=>s.removeCart(a.id),["prevent"]),style:{"border-color":"transparent"}},Yt,10,Kt),t("img",{src:a.product.imageUrl,class:"object-fit-cover flex-shrink-0",width:"80",height:"80",alt:"cart.product.title"},null,8,Qt)]),t("div",Ut,[t("div",null,[t("p",Jt,h(a.product.title),1),t("p",Zt,"NT$"+h(s.$filters.toThousands(a.product.price))+" / "+h(a.product.unit),1),t("div",Xt,[mt(t("select",{"onUpdate:modelValue":u=>a.qty=u,class:"form-select form-select-sm",onChange:u=>s.setCartQty(a),disabled:s.loadingStatus===a.id},[(f(),m(O,null,P(20,u=>t("option",{key:u+1234,value:u},h(u),9,ss)),64))],40,ts),[[ut,a.qty]])])]),t("p",es,"NT$"+h(s.$filters.toThousands(a.total)),1)])])]))),128))])]),t("div",as,[os,t("p",ns,"NT$"+h(s.$filters.toThousands(s.cartsTotal.total)),1)]),t("div",is,[t("p",ls,[_(" 運費 "),s.cartsTotal.total<500?(f(),m("small",cs,"(消費滿 $500 可享免運優惠)")):(f(),m("small",rs,"(恭禧您已達免運門檻！)"))]),t("p",ds,"NT$"+h(s.shipping),1)]),t("div",_s,[fs,t("p",ms,"NT$"+h(s.$filters.toThousands(s.cartsTotal.total+s.shipping)),1)]),t("a",{href:"#",class:"btn btn-primary w-100 mb-2",onClick:l[1]||(l[1]=E(a=>y.goOrderView(),["prevent"]))},"訂單結帳")])):(f(),m("div",us,[hs,gs,t("a",{href:"#",class:"btn btn-primary fs-lg-5 px-5 py-3 px-lg-6",onClick:l[2]||(l[2]=E(a=>y.goProductsView(),["prevent"]))},"現在就去逛逛")]))])],512)}const bs=M(Dt,[["render",vs]]),Y="/2023-vue3-GoodVegan/assets/cart-56294020.svg",Q="/2023-vue3-GoodVegan/assets/member-08588000.svg",ps="/2023-vue3-GoodVegan/assets/menu-b4cacd3d.svg",ys="/2023-vue3-GoodVegan/assets/instagram-cd707bc1.svg",$s="/2023-vue3-GoodVegan/assets/FB-8296d5b2.svg",ws="/2023-vue3-GoodVegan/assets/youtube-9bfa7f5e.svg",ks="/2023-vue3-GoodVegan/assets/phone-c23e1626.svg",Es="/2023-vue3-GoodVegan/assets/mail-52bf0702.svg",xs="/2023-vue3-GoodVegan/assets/address-0e44b59d.svg";const Ts={components:{RouterLink:ht,RouterView:gt,CartOffcanvas:bs},methods:{...H(T,["getCart"]),toggleOffcanvas(){this.$refs.offcanvas.bsOffcanvas.toggle()},navbarCollapse(){const s=document.querySelectorAll(".nav-link"),l=document.querySelector(".navbar-collapse");s.forEach(g=>{g.addEventListener("click",()=>{l.classList.remove("show")})})},subscribe(){At.fire({icon:"success",title:"您已成功提交資訊。感謝您的訂閱！",width:450}),this.$refs.form.resetForm()}},computed:{...A(T,["cartsTotalNum"])},mounted(){this.getCart(),this.navbarCollapse()}},p=s=>(vt("data-v-683f0916"),s=s(),bt(),s),Cs={class:"navbar fixed-top navbar-expand-lg navbar-light bg-primary-light py-2 py-lg-3"},Ss={class:"container"},Ns=p(()=>t("img",{src:W,width:"113",height:"32",alt:"logo",class:"d-inline-block navbar-logo"},null,-1)),As={class:"d-flex align-items-center"},Vs={class:"d-lg-none"},Os=p(()=>t("img",{src:Y,alt:"cart",width:"40",height:"40"},null,-1)),Ds={key:0,class:"position-absolute start-100 translate-middle badge rounded-pill bg-primary text-white",style:{top:"6px"}},Ls=p(()=>t("img",{src:Q,alt:"member",width:"40",height:"40"},null,-1)),Rs=p(()=>t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[t("img",{src:ps,alt:"menu",width:"40",height:"40"})],-1)),Is={class:"collapse navbar-collapse d-lg-flex justify-content-lg-center",id:"navbarText"},qs={class:"navbar-nav mt-2 mt-lg-0"},Bs={class:"nav-item mb-4 mb-lg-0"},js={class:"nav-item mb-4 mb-lg-0"},Gs={class:"nav-item mb-4 mb-lg-0"},Fs=p(()=>t("li",{class:"nav-item mb-4 mb-lg-0"},[t("a",{href:"#/#qa",class:"nav-link fs-lg-5 pt-3 mx-5 d-inline-block"},"常見問題")],-1)),Ps={class:"nav-item mb-4 mb-lg-0"},Hs={class:"d-none d-lg-block"},Ms=p(()=>t("img",{src:Y,alt:"cart",width:"40",height:"40"},null,-1)),zs={key:0,class:"position-absolute start-100 translate-middle badge rounded-pill bg-primary text-white",style:{top:"6px"}},Ks=p(()=>t("img",{src:Q,alt:"member",width:"40",height:"40"},null,-1)),Ws={class:"bg-subscribe"},Ys={class:"container py-12"},Qs={class:"row"},Us={class:"col-lg-4"},Js=p(()=>t("label",{class:"form-label"},[t("h5",null,"訂閱我們的文章，獲取最新消息！")],-1)),Zs={class:"input-group mb-3"},Xs=["disabled"],te={class:"bg-white"},se={class:"container py-8"},ee={class:"d-lg-flex justify-content-between align-items-center pb-6 pb-lg-4 border-bottom"},ae=K('<div class="d-flex flex-lg-column justify-content-between align-items-center align-items-lg-start mb-8 mb-lg-0" data-v-683f0916><a href="#" data-v-683f0916><img src="'+W+'" width="183" height="52" alt="logo" class="mb-lg-6" data-v-683f0916></a><ul class="nav" data-v-683f0916><li class="nav-item" data-v-683f0916><a href="#" class="me-4" data-v-683f0916><img src="'+ys+'" alt="instagram" width="32" class="text-dark" data-v-683f0916></a></li><li class="nav-item" data-v-683f0916><a href="#" class="me-4" data-v-683f0916><img src="'+$s+'" alt="FB" width="32" data-v-683f0916></a></li><li class="nav-item" data-v-683f0916><a href="#" data-v-683f0916><img src="'+ws+'" alt="youtube" width="32" data-v-683f0916></a></li></ul></div>',1),oe={class:"nav mb-2"},ne={class:"nav-item mb-6 mb-lg-0"},ie={class:"nav-item mb-6 mb-lg-0"},le={class:"nav-item mb-6 mb-lg-0"},ce={class:"nav-item mb-6 mb-lg-0"},re={class:"nav-item mb-6 mb-lg-0"},de={class:"nav-item mb-6 mb-lg-0"},_e=K('<ul class="nav flex-column gap-3 gap-lg-4" data-v-683f0916><li class="nav-item" data-v-683f0916><a href="tel:+88662345678" data-v-683f0916><img src="'+ks+'" alt="phone" width="24" class="me-3" data-v-683f0916>06-2345678 </a></li><li class="nav-item" data-v-683f0916><a href="mailto:goodvegan@email.com" data-v-683f0916><img src="'+Es+'" alt="mail" width="24" class="me-3" data-v-683f0916>goodvegan@email.com </a></li><li class="nav-item" data-v-683f0916><a href="#" data-v-683f0916><img src="'+xs+'" alt="address" width="24" class="me-3" data-v-683f0916>台南市東區樂活路 59 號 </a></li></ul>',1),fe=p(()=>t("div",{class:"d-lg-flex justify-content-between pt-6 pt-lg-4 text-gray"},[t("p",{class:"mb-2 mb-lg-0"},"Copyright © 2023 goodvegan.com | All Rights Reserved."),t("p",{class:"mb-0"},"本網站僅作為個人練習作品，無任何商業用途")],-1));function me(s,l,g,k,C,y){const o=w("RouterLink"),a=w("CartOffcanvas"),u=w("RouterView"),S=w("v-field"),$=w("error-message"),x=w("v-form");return f(),m(O,null,[t("nav",Cs,[t("div",Ss,[n(o,{to:"/"},{default:r(()=>[Ns]),_:1}),t("div",As,[t("div",Vs,[t("a",{role:"button",class:"navbar-brand position-relative",onClick:l[0]||(l[0]=E(i=>y.toggleOffcanvas(),["prevent"])),"aria-controls":"offcanvasRight"},[Os,s.cartsTotalNum?(f(),m("span",Ds,h(s.cartsTotalNum),1)):V("",!0)]),n(o,{to:"/login",class:"navbar-brand"},{default:r(()=>[Ls]),_:1})]),Rs]),t("div",Is,[t("ul",qs,[t("li",Bs,[n(o,{to:"/about",class:"nav-link pt-3 mx-5 fs-lg-5 d-inline-block"},{default:r(()=>[_("關於我們")]),_:1})]),t("li",js,[n(o,{to:"/products",class:"nav-link fs-lg-5 pt-3 mx-5 d-inline-block"},{default:r(()=>[_("線上訂餐")]),_:1})]),t("li",Gs,[n(o,{to:"/blogs",class:"nav-link fs-lg-5 pt-3 mx-5 d-inline-block"},{default:r(()=>[_("專欄文章")]),_:1})]),Fs,t("li",Ps,[n(o,{to:"/location",class:"nav-link fs-lg-5 pt-3 mx-5 d-inline-block"},{default:r(()=>[_("門市資訊")]),_:1})])])]),t("div",Hs,[t("a",{role:"button",class:"navbar-brand position-relative",onClick:l[1]||(l[1]=E(i=>y.toggleOffcanvas(),["prevent"])),"aria-controls":"offcanvasRight"},[Ms,s.cartsTotalNum?(f(),m("span",zs,h(s.cartsTotalNum),1)):V("",!0)]),n(o,{to:"/login",class:"navbar-brand"},{default:r(()=>[Ks]),_:1})])])]),n(a,{ref:"offcanvas"},null,512),t("main",null,[n(u)]),t("section",null,[t("div",Ws,[t("div",Ys,[t("div",Qs,[t("div",Us,[n(x,{onSubmit:y.subscribe,ref:"form",class:"text-center text-lg-start px-5 px-lg-0"},{default:r(({errors:i})=>[Js,t("div",Zs,[n(S,{type:"email",class:z(["form-control",{"is-invalid":i.信箱}]),placeholder:"請輸入您的信箱",name:"信箱",rules:"email|required","aria-label":"email","aria-describedby":"button-addon2"},null,8,["class"]),t("button",{class:"btn btn-primary",type:"submit",id:"button-addon2",disabled:i.信箱},"立即訂閱",8,Xs),n($,{name:"信箱",class:"invalid-feedback"})])]),_:1},8,["onSubmit"])])])])])]),t("footer",te,[t("div",se,[t("div",ee,[ae,t("ul",oe,[t("li",ne,[n(o,{to:"/",class:"me-21 mx-lg-5 fs-lg-5 text-gray-dark","exact-active-class":"exact-active"},{default:r(()=>[_("首頁")]),_:1})]),t("li",ie,[n(o,{to:"/about",class:"me-13 mx-lg-5 fs-lg-5 text-gray-dark","exact-active-class":"exact-active"},{default:r(()=>[_("關於我們")]),_:1})]),t("li",le,[n(o,{to:"/products",class:"fs-lg-5 text-gray-dark me-13 mx-lg-5","exact-active-class":"exact-active"},{default:r(()=>[_("線上訂餐")]),_:1})]),t("li",ce,[n(o,{to:"/blogs",class:"fs-lg-5 text-gray-dark me-13 mx-lg-5","exact-active-class":"exact-active"},{default:r(()=>[_("專欄文章")]),_:1})]),t("li",re,[n(o,{to:"/#qa",class:"fs-lg-5 text-gray-dark me-13 mx-lg-5","exact-active-class":"exact-active"},{default:r(()=>[_("常見問題")]),_:1})]),t("li",de,[n(o,{to:"/location",class:"fs-lg-5 text-gray-dark me-13 mx-lg-5","exact-active-class":"exact-active"},{default:r(()=>[_("門市資訊")]),_:1})])]),_e]),fe])])],64)}const we=M(Ts,[["render",me],["__scopeId","data-v-683f0916"]]);export{we as default};
