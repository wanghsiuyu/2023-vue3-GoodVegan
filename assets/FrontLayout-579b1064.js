import{c as dt,m as F,a as T,_ as H,o as f,b as h,d as t,t as m,F as N,r as P,n as _t,w as $,e as mt,v as ft,f as b,R as ht,g as ut,h as A,i,j as _,k as Q,l as M}from"./index-eba4f007.js";import{c as k}from"./cartsStore-1a64d9a8.js";import{l as gt}from"./loadingStore-70bb54c7.js";import{r as bt,a as pt,b as vt,c as wt,d as yt,e as $t,f as kt,g as Et}from"./component-functions-e846c12e.js";import{_ as xt,a as Ct}from"./empty-cart-34a81ab2.js";import{_ as K}from"./logo2-235e6bbc.js";import"./toast-53598370.js";var S={},At={get exports(){return S},set exports(e){S=e}};/*!
  * Bootstrap offcanvas.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,l){(function(p,y){e.exports=y(bt(),pt(),vt(),wt(),yt(),$t(),kt(),Et())})(dt,function(p,y,E,v,o,a,r,x){const w=c=>c&&typeof c=="object"&&"default"in c?c:{default:c},O=w(y),d=w(E),Y=w(v),C=w(o),G=w(a),U=w(r),J="offcanvas",u=".bs.offcanvas",D=".data-api",Z=`load${u}${D}`,X="Escape",V="show",L="showing",R="hiding",tt="offcanvas-backdrop",I=".offcanvas.show",et=`show${u}`,st=`shown${u}`,at=`hide${u}`,B=`hidePrevented${u}`,j=`hidden${u}`,ot=`resize${u}`,nt=`click${u}${D}`,it=`keydown.dismiss${u}`,lt='[data-bs-toggle="offcanvas"]',ct={backdrop:!0,keyboard:!0,scroll:!1},rt={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class g extends Y.default{constructor(s,n){super(s,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ct}static get DefaultType(){return rt}static get NAME(){return J}toggle(s){return this._isShown?this.hide():this.show(s)}show(s){if(this._isShown||d.default.trigger(this._element,et,{relatedTarget:s}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new O.default().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(L);const q=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(V),this._element.classList.remove(L),d.default.trigger(this._element,st,{relatedTarget:s})};this._queueCallback(q,this._element,!0)}hide(){if(!this._isShown||d.default.trigger(this._element,at).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(R),this._backdrop.hide();const n=()=>{this._element.classList.remove(V,R),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new O.default().reset(),d.default.trigger(this._element,j)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const s=()=>{if(this._config.backdrop==="static"){d.default.trigger(this._element,B);return}this.hide()},n=Boolean(this._config.backdrop);return new G.default({className:tt,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?s:null})}_initializeFocusTrap(){return new U.default({trapElement:this._element})}_addEventListeners(){d.default.on(this._element,it,s=>{if(s.key===X){if(!this._config.keyboard){d.default.trigger(this._element,B);return}this.hide()}})}static jQueryInterface(s){return this.each(function(){const n=g.getOrCreateInstance(this,s);if(typeof s=="string"){if(n[s]===void 0||s.startsWith("_")||s==="constructor")throw new TypeError(`No method named "${s}"`);n[s](this)}})}}return d.default.on(document,nt,lt,function(c){const s=p.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&c.preventDefault(),p.isDisabled(this))return;d.default.one(s,j,()=>{p.isVisible(this)&&this.focus()});const n=C.default.findOne(I);n&&n!==s&&g.getInstance(n).hide(),g.getOrCreateInstance(s).toggle(this)}),d.default.on(window,Z,()=>{for(const c of C.default.find(I))g.getOrCreateInstance(c).show()}),d.default.on(window,ot,()=>{for(const c of C.default.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(c).position!=="fixed"&&g.getOrCreateInstance(c).hide()}),x.enableDismissTrigger(g),p.defineJQueryPlugin(g),g})})(At);const Tt=S,Nt={data(){return{bsOffcanvas:""}},components:{},methods:{...F(k,["getCart","removeCart","removeCartsAll","setCartQty"]),goProductsView(){this.bsOffcanvas.hide(),this.$router.push("/products")},goOrderView(){this.bsOffcanvas.hide(),this.$router.push("/order/info")}},computed:{...T(k,["cartsTotal","shipping","cartsTotalNum"]),...T(gt,["loadingStatus"])},mounted(){this.bsOffcanvas=new Tt(this.$refs.offcanvasRight)}},St={class:"offcanvas offcanvas-end","data-bs-scroll":"true",tabindex:"-1",id:"offcanvasRight",ref:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},Ot={class:"offcanvas-header"},Dt={id:"offcanvasRightLabel"},Vt=t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),Lt={class:"offcanvas-body pt-0"},Rt={key:0},It={class:"table align-middle",style:{"font-size":"14px"}},Bt=t("tr",{class:"border-bottom"},null,-1),jt={class:"d-flex align-items-center justify-content-between gap-5 py-4 px-0"},qt={class:"d-flex align-items-center"},Pt=["onClick"],Qt=t("img",{src:Ct,alt:"delete"},null,-1),Ft=[Qt],Ht=["src"],Mt={class:"d-flex align-items-center justify-content-between w-75"},Kt={class:"mb-1"},zt={class:"mb-1"},Wt={style:{width:"80px"}},Yt=["onUpdate:modelValue","onChange","disabled"],Gt=["value"],Ut={class:"mb-0 text-end"},Jt={class:"d-flex justify-content-between"},Zt=t("p",{class:"fs-6 mb-2"},"小計",-1),Xt={class:"fs-6 mb-2 fw-bold"},te={class:"d-flex justify-content-between"},ee={class:"fs-6 mb-2"},se={key:0,class:"text-danger"},ae={key:1,class:"text-danger"},oe={class:"fs-6 mb-2 fw-bold"},ne={class:"d-flex justify-content-between mb-2"},ie=t("p",{class:"fs-6 mb-2"},"總計",-1),le={class:"fs-6 mb-2 fw-bold"},ce={key:1,class:"text-center"},re=t("img",{src:xt,alt:"empty-cart",class:"mb-6",width:"80",height:"80"},null,-1),de=t("h3",{class:"fs-5 mb-6"},"您的購物車目前是空的喔",-1);function _e(e,l,p,y,E,v){var o;return f(),h("div",St,[t("div",Ot,[t("h5",Dt,"購物車 ("+m(e.cartsTotalNum)+")",1),Vt]),t("div",Lt,[(o=e.cartsTotal.carts)!=null&&o.length?(f(),h("div",Rt,[t("table",It,[t("tbody",null,[Bt,(f(!0),h(N,null,P(e.cartsTotal.carts,a=>(f(),h("tr",{key:a.id},[t("td",jt,[t("div",qt,[t("a",{role:"button",class:_t(["btn p-0 me-3",{disabled:e.loadingStatus===a.id}]),onClick:$(r=>e.removeCart(a.id),["prevent"]),style:{"border-color":"transparent"}},Ft,10,Pt),t("img",{src:a.product.imageUrl,class:"object-fit-cover flex-shrink-0",width:"80",height:"80",alt:"cart.product.title"},null,8,Ht)]),t("div",Mt,[t("div",null,[t("p",Kt,m(a.product.title),1),t("p",zt,"NT$"+m(a.product.price)+" / "+m(a.product.unit),1),t("div",Wt,[mt(t("select",{"onUpdate:modelValue":r=>a.qty=r,class:"form-select form-select-sm",onChange:r=>e.setCartQty(a),disabled:e.loadingStatus===a.id},[(f(),h(N,null,P(20,r=>t("option",{key:r+1234,value:r},m(r),9,Gt)),64))],40,Yt),[[ft,a.qty]])])]),t("p",Ut,"NT$"+m(a.total),1)])])]))),128))])]),t("button",{type:"button",class:"btn btn-sm btn-outline-gray mb-3",onClick:l[0]||(l[0]=(...a)=>e.removeCartsAll&&e.removeCartsAll(...a))},"清空購物車"),t("div",Jt,[Zt,t("p",Xt,"NT$"+m(e.cartsTotal.total),1)]),t("div",te,[t("p",ee,[b(" 運費 "),e.cartsTotal.total<500?(f(),h("small",se,"(消費滿 $500 可享免運優惠)")):(f(),h("small",ae,"(恭禧您已達免運門檻！)"))]),t("p",oe,"NT$"+m(e.shipping),1)]),t("div",ne,[ie,t("p",le,"NT$"+m(e.cartsTotal.final_total+e.shipping),1)]),t("a",{href:"#",class:"btn btn-primary w-100 mb-2",onClick:l[1]||(l[1]=$(a=>v.goOrderView(),["prevent"]))},"訂單結帳")])):(f(),h("div",ce,[re,de,t("a",{href:"#",class:"btn btn-primary fs-lg-5 px-5 py-3 px-lg-6",onClick:l[2]||(l[2]=$(a=>v.goProductsView(),["prevent"]))},"現在就去逛逛")]))])],512)}const me=H(Nt,[["render",_e]]),z="/vue3-QA/assets/cart-56294020.svg",W="/vue3-QA/assets/member-08588000.svg",fe="/vue3-QA/assets/menu-b4cacd3d.svg",he="/vue3-QA/assets/instagram-cd707bc1.svg",ue="/vue3-QA/assets/FB-8296d5b2.svg",ge="/vue3-QA/assets/youtube-9bfa7f5e.svg",be="/vue3-QA/assets/phone-c23e1626.svg",pe="/vue3-QA/assets/mail-52bf0702.svg",ve="/vue3-QA/assets/address-0e44b59d.svg";const we={data(){return{}},components:{RouterLink:ht,RouterView:ut,CartOffcanvas:me},methods:{...F(k,["getCart"]),toggleOffcanvas(){this.$refs.offcanvas.bsOffcanvas.toggle()}},computed:{...T(k,["cartsTotalNum"])},mounted(){this.getCart()}},ye={class:"navbar fixed-top navbar-expand-lg navbar-light bg-primary-light py-2 py-lg-3"},$e={class:"container"},ke=t("img",{src:K,width:"113",height:"32",alt:"logo",class:"d-inline-block navbar-logo"},null,-1),Ee={class:"d-flex align-items-center"},xe={class:"d-lg-none"},Ce=t("img",{src:z,alt:"cart",width:"40",height:"40"},null,-1),Ae={key:0,class:"position-absolute start-100 translate-middle badge rounded-pill bg-primary text-white",style:{top:"6px"}},Te=t("img",{src:W,alt:"member",width:"40",height:"40"},null,-1),Ne=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[t("img",{src:fe,alt:"menu",width:"40",height:"40"})],-1),Se={class:"collapse navbar-collapse d-lg-flex justify-content-lg-center",id:"navbarText"},Oe={class:"navbar-nav mt-2 mt-lg-0"},De={class:"nav-item mb-4 mb-lg-0"},Ve={class:"nav-item mb-4 mb-lg-0"},Le=t("li",{class:"nav-item mb-4 mb-lg-0"},[t("a",{href:"#/#qa",class:"nav-link fs-lg-5 pt-3 mx-5 d-inline-block"},"常見問題")],-1),Re={class:"nav-item mb-4 mb-lg-0"},Ie={class:"d-none d-lg-block"},Be=t("img",{src:z,alt:"cart",width:"40",height:"40"},null,-1),je={key:0,class:"position-absolute start-100 translate-middle badge rounded-pill bg-primary text-white",style:{top:"6px"}},qe=t("img",{src:W,alt:"member",width:"40",height:"40"},null,-1),Pe={class:"bg-white"},Qe={class:"container py-8"},Fe={class:"d-lg-flex justify-content-between align-items-center pb-6 pb-lg-4 border-bottom"},He=M('<div class="d-flex flex-lg-column justify-content-between align-items-center align-items-lg-start mb-8 mb-lg-0"><a href="#"><img src="'+K+'" width="183" height="52" alt="logo" class="mb-lg-6"></a><ul class="nav"><li class="nav-item"><a href="#" class="me-4"><img src="'+he+'" alt="instagram" width="32" class="text-dark"></a></li><li class="nav-item"><a href="#" class="me-4"><img src="'+ue+'" alt="FB" width="32"></a></li><li class="nav-item"><a href="#"><img src="'+ge+'" alt="youtube" width="32"></a></li></ul></div>',1),Me={class:"nav mb-2"},Ke={class:"nav-item mb-6 mb-lg-0"},ze={class:"nav-item mb-6 mb-lg-0"},We={class:"nav-item mb-6 mb-lg-0"},Ye={class:"nav-item mb-6 mb-lg-0"},Ge={class:"nav-item mb-6 mb-lg-0"},Ue=M('<ul class="nav flex-column gap-3 gap-lg-4"><li class="nav-item"><a href="tel:+88662345678"><img src="'+be+'" alt="phone" width="24" class="me-3">06-2345678 </a></li><li class="nav-item"><a href="mailto:goodvegan@email.com"><img src="'+pe+'" alt="mail" width="24" class="me-3">goodvegan@email.com </a></li><li class="nav-item"><a href="#"><img src="'+ve+'" alt="address" width="24" class="me-3">台南市東區樂活路 59 號 </a></li></ul>',1),Je=t("div",{class:"d-lg-flex justify-content-between pt-6 pt-lg-4 text-gray"},[t("p",{class:"mb-2 mb-lg-0"},"Copyright © 2023 goodvegan.com | All Rights Reserved."),t("p",{class:"mb-0"},"本網站僅作為個人練習作品，無任何商業用途")],-1);function Ze(e,l,p,y,E,v){const o=A("RouterLink"),a=A("CartOffcanvas"),r=A("RouterView");return f(),h(N,null,[t("nav",ye,[t("div",$e,[i(o,{to:"/"},{default:_(()=>[ke]),_:1}),t("div",Ee,[t("div",xe,[t("a",{role:"button",class:"navbar-brand position-relative",onClick:l[0]||(l[0]=$(x=>v.toggleOffcanvas(),["prevent"])),"aria-controls":"offcanvasRight"},[Ce,e.cartsTotalNum?(f(),h("span",Ae,m(e.cartsTotalNum),1)):Q("",!0)]),i(o,{to:"/login",class:"navbar-brand"},{default:_(()=>[Te]),_:1})]),Ne]),t("div",Se,[t("ul",Oe,[t("li",De,[i(o,{to:"/about",class:"nav-link pt-3 mx-5 fs-lg-5 d-inline-block"},{default:_(()=>[b("關於我們")]),_:1})]),t("li",Ve,[i(o,{to:"/products",class:"nav-link fs-lg-5 pt-3 mx-5 d-inline-block"},{default:_(()=>[b("線上訂餐")]),_:1})]),Le,t("li",Re,[i(o,{to:"/location",class:"nav-link fs-lg-5 pt-3 mx-5 d-inline-block"},{default:_(()=>[b("門市資訊")]),_:1})])])]),t("div",Ie,[t("a",{role:"button",class:"navbar-brand position-relative",onClick:l[1]||(l[1]=$(x=>v.toggleOffcanvas(),["prevent"])),"aria-controls":"offcanvasRight"},[Be,e.cartsTotalNum?(f(),h("span",je,m(e.cartsTotalNum),1)):Q("",!0)]),i(o,{to:"/login",class:"navbar-brand"},{default:_(()=>[qe]),_:1})])])]),i(a,{ref:"offcanvas"},null,512),t("main",null,[i(r)]),t("footer",Pe,[t("div",Qe,[t("div",Fe,[He,t("ul",Me,[t("li",Ke,[i(o,{to:"/",class:"me-21 mx-lg-5 fs-lg-5 text-gray-dark","exact-active-class":"exact-active"},{default:_(()=>[b("首頁")]),_:1})]),t("li",ze,[i(o,{to:"/about",class:"me-13 mx-lg-5 fs-lg-5 text-gray-dark","exact-active-class":"exact-active"},{default:_(()=>[b("關於我們")]),_:1})]),t("li",We,[i(o,{to:"/products",class:"fs-lg-5 text-gray-dark me-13 mx-lg-5","exact-active-class":"exact-active"},{default:_(()=>[b("線上訂餐")]),_:1})]),t("li",Ye,[i(o,{to:"/#qa",class:"fs-lg-5 text-gray-dark me-13 mx-lg-5","exact-active-class":"exact-active"},{default:_(()=>[b("常見問題")]),_:1})]),t("li",Ge,[i(o,{to:"/location",class:"fs-lg-5 text-gray-dark me-13 mx-lg-5","exact-active-class":"exact-active"},{default:_(()=>[b("門市資訊")]),_:1})])]),Ue]),Je])])],64)}const ls=H(we,[["render",Ze]]);export{ls as default};
